---
import { Icon } from 'astro-icon/components';

---

<header class="h-fit w-screen bg-[#313552] fixed top-0">
    <nav class="h-16 w-full hidden md:flex justify-center items-center">
        <ul class="h-full flex justify-center items-center w-fit">
            <li class="p-4"><a class="hover:underline" href="/">Accueil</a></li>
            <li class="border-3 border-white rounded-full mt-1"></li>
            <li class="p-4"><a class="hover:underline" href="/#skills">Compétences</a></li>
            <li class="border-3 border-white rounded-full mt-1"></li>
            <li class="p-4"><a class="hover:underline" href="/#projets">Projets</a></li>
            <li class="border-3 border-white rounded-full mt-1"></li>
            <li class="p-4"><a class="hover:underline" href="/">À propos</a></li>
            <li class="border-3 border-white rounded-full mt-1"></li>
            <li class="p-4"><a class="hover:underline" href="/">Parcours</a></li>
            <li class="border-3 border-white rounded-full mt-1"></li>
            <li class="p-4"><a class="hover:underline" href="/#contact">Contact</a></li>
        </ul>
    </nav>

    <div class="flex md:hidden h-16 w-full justify-end items-center p-8">
        <Icon id="menu-open" class="h-10 w-10 border-2 border-white p-2" name="mdi:menu" />
        <Icon id="menu-close" class="h-10 w-10 border-2 border-white p-2 hidden" name="mdi:close" />
    </div>
  
    <nav id="mobileNav" class="h-(--mobilemenu) hidden flex justify-center items-start">
        <ul class="flex flex-col justify-center items-center w-fit mt-8 mb-8">
            <li class="p-4"><a class="underline" href="/" onclick="location.reload()">Accueil</a></li>
            <li class="border-3 border-white rounded-full"></li>
            <li class="p-4"><a class="underline" href="/#skills" onclick="location.reload()">Compétences</a></li>
            <li class="border-3 border-white rounded-full"></li>
            <li class="p-4"><a class="underline" href="/#projets" onclick="location.reload()">Projets</a></li>
            <li class="border-3 border-white rounded-full"></li>
            <li class="p-4"><a class="underline" href="/" onclick="location.reload()">À propos</a></li>
            <li class="border-3 border-white rounded-full"></li>
            <li class="p-4"><a class="underline" href="/" onclick="location.reload()">Parcours</a></li>
            <li class="border-3 border-white rounded-full"></li>
            <li class="p-4"><a class="underline" href="/#contact" onclick="location.reload()">Contact</a></li>
        </ul>
    </nav>
</header>

<script>
    const menuOpen = document.getElementById('menu-open');
    const menuClose = document.getElementById('menu-close');
    const mobileNav = document.getElementById('mobileNav');

    if (menuOpen && menuClose && mobileNav) {
        menuOpen.addEventListener('click', () => {
            menuOpen?.classList.add('hidden');
            menuClose?.classList.remove('hidden');
            mobileNav?.classList.remove('hidden');
        });

        menuClose.addEventListener('click', () => {
            menuClose?.classList.add('hidden');
            menuOpen?.classList.remove('hidden');
            mobileNav?.classList.add('hidden');
        });

        window.addEventListener('resize', () => {
            menuClose?.classList.add('hidden');
            menuOpen?.classList.remove('hidden');
            mobileNav?.classList.add('hidden');
        });
    }
</script>
